<h1 class="page-header">My Certificates</h1>

<div class="ui-items-4">
    {{#each cert in model.certs}}
      <div {{bind-attr class=":ui-item cert.isReady::is-pending"}}>
        <div class="ui-item-icon">
            <i class="fa fa-certificate fa-fw fa-5x"></i>
        </div>
        <div class="ui-item-content">
          <h2>{{cert.id}}</h2>
          <p class="lead">{{cert.typeString}}</p>
          <div class="btn-group btn-group-sm">
            <a href="#" {{bind-attr class=":btn :btn-default cert.isReady::disabled"}} {{action 'showModal' 'cert/info' cert model}}><i class="fa fa-info-circle"></i> Info</a>
            <a href="#" {{bind-attr class=":btn :btn-danger cert.isReady::disabled"}} {{action 'showConfirm' 'delete' 'Are you sure you want to delete this certificate?' cert}}><i class="fa fa-minus-circle"></i> Delete</a>        
          </div>
        </div>
      </div>
    {{/each}}
    <div class="ui-item">
      <div class="ui-item-icon">
        <i class="fa fa-plus-circle fa-fw fa-5x"></i>
      </div>
      <div class="ui-item-content">
        <h2>Add</h2>
        <p class="lead">New Certificate</p>
        <div class="btn-group btn-group-sm">
          <a href="#" class="btn btn-default" {{action 'showModal' 'cert/add' model}}><i class="fa fa-refresh"></i> Generate</a>
          <a href="#" class="btn btn-default" {{action 'showModal' 'cert/upload' model}}><i class="fa fa-upload"></i> Upload</a>
        </div>
      </div>
    </div>
</div>


{{#if model.auths}}
<h4 class="page-header">Certificate Authorities</h4>

<table class="table">
    <tr>
        <th width="1"></th>
        <th>Name</th>
        <th width="200">Actions</th>
    </tr>
    {{#each cert in model.auths}}
    <tr>
        <td><i class="fa fa-certificate"></i></td>
        <td>{{cert.id}}</td>
        <td>
            <div class="btn-group btn-group-sm">
                <a {{bind-attr href=cert.downloadHref}} class="btn btn-default"><i class="fa fa-download"></i> Download</a>
                <a href="#" class="btn btn-danger" {{action 'showConfirm' 'delete' 'Are you sure you want to delete this certificate?' cert}}><i class="fa fa-minus-circle"></i> Delete</a>        
            </div>
        </td>
    </tr>
    {{else}}
    <tr>
        <td colspan=6 class="text-center">None</td>
    </tr>
    {{/each}}
</table>
{{/if}}
